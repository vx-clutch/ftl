#!/bin/bash

RESET="\033[0m"
GREEN="\033[1;32m"
YELLOW="\033[1;33m"	
RED="\033[0;31m"

exists() {
    echo "${YELLOW}===> Checking for $1${RESET}"
    if ! command -v $1 2>&1 >/dev/null
    then
        echo "  failure to configure: cannot find $1 in user path."
        action=true
    fi
    if $1 == "gcc"
    then
        foundCC=true
    fi
}

depends_on="gcc nasm ld go"
action=false
foundCC=false

for cmd in $depends_on; do
  exists $cmd
done

if $action
then
  echo "Install the needed binarys before continuing to compilation."
fi

if ! $foundCC
then
    echo "If you with to use a C compiler other than gcc, modify the CC variable in the Makefile"
fi
